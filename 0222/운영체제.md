# 운영체제

운영체제(Operating System)

## 정의, 뜻

- 컴퓨터 시스템의 자원들을 효율적으로 관리하며 사용자가 컴퓨터를 편리하고, 효과적으로 사용할 수 있도록 환경을 제공하는 여러 프로그램의 모임
- 컴퓨터 사용자와 컴퓨터 하드웨어 간의 인터페이스로서 동작하는 시스템 소프트웨어의 일종으로, 다른 응용프로그램이 유용한 작업을 할 수 있도록 환경을 제공

⇒ **사용자가 실행하는 응용 프로그램이 올바르게 실행되도록 돕고 필요한 자원을 할당해 주는 프로그램**

![img1.daumcdn.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/98626dd6-1816-470f-9266-5ca20d8974dd/img1.daumcdn.png)

## 분류

종류 : 윈도우(Windows), 맥 OS(Mac OS), 리눅스(Linux), 유닉스(Unix)등

**동시 사용자수에 따른 분류**

- 단일 사용자 시스템
    - 한 컴퓨터 시스템에 대해 한 순간에 한 사용자만이 사용할 수 있도록 하는 시스템
    - 시스템 자원 보호 매커니즘 단순
    - 소형 또는 개인용 컴퓨터에서 많이 씀
- 다중 사용자 시스템
    - 동시에 여러 사용자가 접속해서 사용할 수 있도록 구성된 시스템
    - 다중 작업 특성 포함
    - 보호 매커니즘 복잡
    - 워크스테이션(전문분야에서 쓰는 고성능 개인용 컴퓨터), 마이크로 컴퓨터, 미니 컴퓨터 이상의 시스템

**작업처리 방법에 따른 분류**

- 단일 작업 처리 시스템 : DOS(IBM pc 호환기종에서 널리 쓰이던 디스크 운영체제의 일종)
    - 한번에 한가지 작업의 수행만을 지원하도록 구성된 시스템
    - 하나의 작업이 완료된 후 다른 작업 수행
    - 단일 사용자 시스템
    - 자원관리용이
- 다중 작업 처리 시스템 : Windows(개인용), Unix(서버용), Linux(서버용) 사용
    - 동시에 여러 프로그램이 수행되는 시스템
    - 자원관리의 복잡(주기억장치, 스케줄링 등)

## 기능

- 프로세서, 기억장치, 입출력 장치, 파일 및 정보 등의 **자원을 관리**
- 자원을 효율적으로 관리하기 위해 자원의 **스케줄링 기능** 제공
- 사용자와 시스템 간의 편리한 **인터페이스를 제공**
- 시스템의 각종 **하드웨어와 네트워크를 관리 및 제어**
- 데이터를 관리하고 데이터 및 자원의 공유 기능 제공
- 시스템의 오류를 검사 및 복구
- 자원 보호 기능 제공
- 입출력 보조 기능 제공

## 목적

- 처리능력(Throughput) 향상 : 일정 시간 내에 시스템이 처리하는 일의 양 향상
- 응답시간(Turn Around Time) 단축 : 시스템에 작업을 의뢰한 시간부터 처리가 완료될 때까지 걸리는 시간 단축
- 사용가능도(Availiablity) 향상 : 시스템을 사용할 필요가 있을 때 즉시 사용 가능한 정도 향상
- 신뢰도(Reliabilty) 향상 : 시스템이 주어진 문제를 정확하게 해결하는 정도

⇒ **성능을 높이고, 사용자에게 편의성 제공을 목적으로 하는 컴퓨터 하드웨어를 관리하는 프로그램**

## 주요 자원관리

- 프로세스 관리
    - 프로세스 스케줄링 및 동기화 관리 담당
    - 프로세스 생성과 제거, 시작과 정지, 메시지 전달 등의 기능담당
- 기억장치 관리
    - 프로세스에게 메모리 할당 및 회수 관리 담당
- 주변장치 관리
    - 입출력 장치 스케줄링 및 전반적인 관리 담당
- 파일 관리
    - 파일의 생성과 삭제, 변경, 유지 등의 관리 담당

## 시동 - 부팅(Booting)

![컴퓨터 구조](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/f34d9da6-35cf-48cb-9bea-655b0e0cc2fc/53879645-5a6b7b00-4052-11e9-84ad-25a4dc7c1306.png)

컴퓨터 구조

운영체제를 시동하는 과정을 부팅이라고 한다.

여기서 Processor는 일반적으로 CPU를 뜻한다.

- ROM(Read-Only Memory : 읽기 전용 메모리)
    - 비휘발성 메모리 → **전원이 차단되어도 데이터가 사라지지 않음**
- RAM(Random Access Memory : 임의 접근 기억 장치)
    - 휘발성 메모리 → **전원이 차단되면 데이터가 사라짐**
    - CPU와 하드디스크 사이에 위치, 하드디스크보다 빠르고 CPU보다는 느리다.
        - CPU : 반도체 부품으로 구성 → 빠름
        - 하드디스크 : 기계적 부품인 모터가 돌면서 데이터를 읽음 → 느림
    - 자주쓰는 데이터는 RAM에 위치시켜 CPU에서 고속으로 처리 가능

**부트 로더의 과정 ( = 부팅)**

- 컴퓨터의 전원이 켜지면 프로세서(CPU)에서 ROM에 있는 내용을 읽는다.
- ROM안에는 POST(Power-On Self-Test), 부트 로더(boot loader)가 저장되어 있다.
    - POST는 전원이 켜지면 가장 처음에 실행되는 프로그램으로 현재 컴퓨터의 상태를 검사
    - POST 작업이 끝나면 부트 로더 실행
    - 부트 로더는 하드디스크에 저장되어 있는 운영체제를 찾아서 메인 메모리(RAM)에 가지고 온다.
    

![부트 로더가 진행하는 모습](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/214cf171-e4af-4da4-9b8e-ed86c1438e96/53879648-5b041180-4052-11e9-9642-6bf80de33a3e.png)

부트 로더가 진행하는 모습

## 구성

- ***커널(kernel)***
    - 운영체제의 핵심, **운영체제가 수행하는 모든 것**이 저장되어 있다.
    - 시스템의 모든 것을 통제
        - 보안 : 컴퓨터의 하드웨어와 프로세스의 보안을 책임진다.
        - 자원관리 : 한정된 시스템의 자원을 효율적으로 관리하여 프로그램의 실행을 원활하게 한다. 여기서 프로세스에 처리기를 할당하는 것을 스케줄링이라고 한다.
        - 추상화 : 물리적으로 하나뿐인 하드웨어를 여러 사용자들이 번갈아 사용할 수 있도록 마치 여러개처럼 보이게 하는 기술. 즉, 커널이 관리함에 따라 각 사용자들이 하나의 하드웨어를 독점하는 것처럼 느낄 수 있도록 한다.
        
        ⇒ **컴퓨터의 물리적(하드웨어) 자원**과 **추상화 자원**을 관리 하는 것
        
- 명령어 해석기(Command interpreter, shell)
    - 사용자가 **커널(운영체제)에 요청하는 명령어를 해석하여 커널에 요청하고 그 결과를 출력**

![53879650-5b041180-4052-11e9-8950-ca9cca586d82.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/451d5cb4-fce8-47b2-942f-0e637cd03e5f/53879650-5b041180-4052-11e9-8950-ca9cca586d82.png)

## 위치

사용자 프로그램(Application)은 특정 운영체제에 맞춰서 만든다. 따라서, 한 애플리케이션은 서로 다른 운영체제에서 수행할 수 없다. (단, 하드웨어가 같은 건 상관없음)

예로, Windows에서 수행하는 프로그램을 Linux에 옮기면 수행되지 않는다.

![53879651-5b041180-4052-11e9-9b04-065091bd3199.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/19678612-b9e0-40bf-8def-fd96067cf671/53879651-5b041180-4052-11e9-9b04-065091bd3199.png)

애플리케이션은 운영체제 위에서 수행한다. 하드웨어 자원을 직접적으로 사용하지 않고 **운영체제가 제공하는 자원만을 사용할 수 있다.**

## 이중모드와 시스템 호출

운영체제는 사용자가 실행하는 응용 프로그램이 하드웨어 자원에 직접 접근하는 것을 방지하여 자원을 보호한다. 만약 응용 프로그램이 CPU, 메모리, 하드 디스크 등에 마음대로 접근하고 조작할 수 있다면 자원이 무질서하게 관리될 것이고, 응용 프로그램이 조금만 실수해도 컴퓨터 전체에 큰 악영향을 끼칠 수 있다.

**따라서, 운영체제는 응용 프로그램들이 자원에 접근하려고 할 때 오직 운영체제만을 통해서 접근이 가능하도록 해야한다.**

이러한 운영체제의 역할은 이중모드로써 구현된다.

- 이중모드(dual mode)
    
    CPU가 명령어를 실행하는 모드를 크게 사용자 모드와 커널 모드로 구분하는 방식
    
    CPU는 명령어를 사용자 모드로써 실행할 수 있고, 커널 모드로써 실행할 수 있다.
    
    - 사용자 모드(user mode)
        - 운영체제 서비스를 제공받을 수 없는 실행 모드
        - 커널 영역의 코드를 실행할 수 없는 모드
        - 사용자 모드로 실행 중인 CPU는 입출력 명령어와 같이 하드웨어 자원에 접근하는 명령어를 실행할 수 없다. 그래서 사용자 모드로 실행되는 일반적인 응용 프로그램은 자원에 접근할 수 없다.
    - 커널 모드(kernel mode)
        - 운영체제 서비스를 제공 받을 수 있는 실행 모드
        - 커널 영역의 코드를 실행할 수 있는 코드
        - CPU가 커널 모드로 명령어를 실행하면 자원에 접근하는 명령어를 비롯한 모든 명령어를 실행할 수 있다. 운영체제는 커널 모드로 실행되기 때문에 자원에 접근할 수 있습니다.

- 시스템 호출(System Call)
    - 사용자 모드로 실행되는 프로그램이 자원에 접근하는 운영체제 서비스를 제공받으려면 운영체제에 요청을 보내 **커널 모드로 전환**되어야 한다.
    - 이때, 운영체제 서비스를 제공받기 위한 요청 → 시스템 콜(호출)
    - 시스템 호출은 일종의 인터럽트 (소프트웨어적인 인터럽트)
        - 인터럽트는 입출력장치에 의해 발생하기도 하지만 인터럽트를 발생시키는 특정 명령어에 의해 발생하기도 하는데, 이를 **소프트웨어 인터럽트**라고 한다.
        - 그래서 CPU가 시스템 호출을 처리하는 순서는 인터럽트 처리 순서와 유사
    
    ⇒ 시스템 호출을 발생시키는 명령어가 실행되면 CPU는 지금까지의 작업을 백업하고, 커널 영역 내에 시스템 호출을 수행하는 코드(인터럽트 서비스 루틴)를 실행한 뒤 다시 기존에 실행하던 응용 프로그램으로 복귀하여 실행을 계속해 나간다.
    

## 유형

- 일괄처리 시스템(Batch processing system)
    - 유사한 작업들끼리 일정량 또는 일정 시간 묶어서 처리하는 방식. 컴퓨터 시스템을 효율적으로 사용할 수 있지만 하나의 작업이 모든 자원을 독점하므로 CPU 유휴 시간이 줄어듦
- 다중 프로그래밍 시스템 (Multi programming system)
    - 하나의 CPU와 주기억 장치를 이용하여 여러 개의 프로그램을 동시에 처리하는 방식. CPU와 대화하면서 처리가 가능하며 CPU 사용률과 처리량이 증가
- 시분할 시스템(Time sharing system)
    - 단말기의 요청을 즉시 처리하여 결과를 반환하는 시스템
    - 예) 공장 제어, 미사일, 반도체 장비
- 다중처리 시스템(Multi-processing system)
    - 여러 대의 CPU와 하나의 주기억장치를 이용하여 여러 개의 프로그램을 동시에 처리하는 방식. 단일 운영체제에 의해 관리되며, 하나의 CPU가 고장 나더라도 시스템의 신뢰성과 안정성을 보장할 수 있다.
- 분산 컴퓨팅(Distributed computing)
    - 넷상으로 연결된 여러 대의 컴퓨터들의 처리 능력을 이용하여 복잡한 계산 문제를 해결하려는 분산 처리 모델
